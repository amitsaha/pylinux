<!doctype html>
<head>
  <title>System Information</title>

  <link rel=stylesheet type=text/css href="{{ url_for('static', filename='style.css') }}">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript">

    function dynamic_stats(){
    $.get("./dynamic", function(data){
    $("div#dynamicstats").html(data);
    })};

    // Once on load
    $(document).ready(function() {
    dynamic_stats();
    document.title = 'System Information:: ' + $("#hostname").text().split(':')[1];
    });

    // Auto refresh of the dynamic stats
    setInterval(function() {
    dynamic_stats();
    },5000);

    // If you have more pressing needs
    //$("#refresh").click(function() {
    //dynamic_stats();
    //});

  </script>
</head>

<body>
  <center><h1> {{ static_info['FQDN'] }} </h1></center>
  <h2> System </h2>
  <table>
    {% for key in  static_info.keys()%}
    <tr>
      <td>{{ key }}
      <td>{{ static_info[key] }}
      </td>
    </tr>
    {% endfor %}
  </table>

  <h2> Statistics </h2>
  <div id="dynamicstats" class="dynamic">
  </div>

</body>

</html>
